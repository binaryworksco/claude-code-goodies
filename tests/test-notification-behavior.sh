#!/bin/bash
# Test script for notification behavior

echo "===================="
echo "Testing Notification Behavior"
echo "===================="
echo ""
echo "This script explains how to test the notification behavior to ensure"
echo "you only receive the appropriate notifications:"
echo ""
echo "Test 1: Task completes without interruption"
echo "- Run a simple allowed command (e.g., 'echo Hello')"
echo "- Expected: Only receive 'session complete' notification"
echo "- Should NOT receive 'action required' notification"
echo ""
echo "Test 2: Task requires approval mid-execution"
echo "- Run a command that's not auto-approved (e.g., 'rm test.txt')"
echo "- Expected: Receive 'action required' notification when Claude pauses"
echo "- After approving: Receive 'session complete' notification"
echo ""
echo "Test 3: Dangerous command detection"
echo "- Run a dangerous command (e.g., 'rm -rf /tmp/test')"
echo "- Expected: Receive dangerous command alert AND 'action required' notification"
echo "- After approving/denying: Receive 'session complete' notification"
echo ""
echo "===================="
echo "Installation Steps:"
echo "1. Copy the new approval-notification.sh to ~/.claude/hooks/"
echo "2. Update your ~/.claude/settings.json to use approval-notification.sh"
echo "3. Restart Claude Code"
echo ""
echo "Monitoring:"
echo "- Check ~/.claude/logs/approval-notifications.log to see what notifications were filtered"
echo "- The log shows which notifications were sent vs skipped"
echo "===================="